# Coffee Tester Feedback Collection App - Architecture

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER BROWSER                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    FRONTEND (Vue 3)                       â”‚ â”‚
â”‚  â”‚                 http://localhost:5173                     â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚  â”‚   HomeView      â”‚  â”‚  FeedbackView    â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Welcome      â”‚  â”‚  - Questions     â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Start Form   â”‚  â”‚  - Voice Panel   â”‚              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚  â”‚         QuestionPanel.vue              â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Display questions                   â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Show options                        â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Handle clicks                       â”‚              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚  â”‚          VoicePanel.vue                â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Microphone button                   â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Speech recognition                  â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Transcript display                  â”‚              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚  â”‚                        â”‚                                  â”‚ â”‚
â”‚  â”‚                        â”‚ useSpeech.js                     â”‚ â”‚
â”‚  â”‚                        â–¼                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚  â”‚      Web Speech API (Browser)          â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - SpeechRecognition (STT)             â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - SpeechSynthesis (TTS)               â”‚              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚  â”‚      Pinia Store (feedback.js)         â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Session state                       â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Current question                    â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Answers array                       â”‚              â”‚ â”‚
â”‚  â”‚  â”‚  - Progress tracking                   â”‚              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚  â”‚                        â”‚                                  â”‚ â”‚
â”‚  â”‚                        â”‚ axios API calls                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ HTTP REST API
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND (FastAPI)                            â”‚
â”‚                  http://localhost:8000                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    main.py (FastAPI App)                  â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  POST /api/sessions/start                                â”‚ â”‚
â”‚  â”‚  POST /api/feedback/answer                               â”‚ â”‚
â”‚  â”‚  GET  /api/questions/{id}                                â”‚ â”‚
â”‚  â”‚  POST /api/sessions/{id}/complete                        â”‚ â”‚
â”‚  â”‚  GET  /api/reports/{session_id}                          â”‚ â”‚
â”‚  â”‚  GET  /api/sessions                                      â”‚ â”‚
â”‚  â”‚  GET  /api/questions                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                               â”‚                                 â”‚
â”‚                               â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  services.py (Business Logic)             â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  - load_questions_from_csv()                             â”‚ â”‚
â”‚  â”‚  - get_next_question()                                   â”‚ â”‚
â”‚  â”‚  - generate_pdf_report()                                 â”‚ â”‚
â”‚  â”‚  - QUESTION_FLOW logic                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                               â”‚                                 â”‚
â”‚                               â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              models.py (SQLAlchemy Models)                â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  Session  â†’ id, tester_name, start_time, status         â”‚ â”‚
â”‚  â”‚  Answer   â†’ id, session_id, question_id, answer_text    â”‚ â”‚
â”‚  â”‚  Question â†’ id, text, type, options, category           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                               â”‚                                 â”‚
â”‚                               â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              database.py (SQLAlchemy Async)               â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  - AsyncEngine                                           â”‚ â”‚
â”‚  â”‚  - AsyncSession                                          â”‚ â”‚
â”‚  â”‚  - Connection pooling                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                               â”‚                                 â”‚
â”‚                               â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  SQLite Database                          â”‚ â”‚
â”‚  â”‚              coffee_feedback.db                           â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  Tables: sessions, answers, questions                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â–²
                               â”‚
                               â”‚ Load on startup
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Flavor.csv                               â”‚
â”‚                                                                 â”‚
â”‚  Fruity Types,Sensory Group                                    â”‚
â”‚  Citrus fruit,Fruity                                           â”‚
â”‚  Lemon,Fruity                                                  â”‚
â”‚  Black tea,Floral                                              â”‚
â”‚  ...                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 1. Start Session
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HomeView      â”‚
â”‚  Enter info     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 2. POST /api/sessions/start
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend API    â”‚
â”‚  Create session â”‚
â”‚  Load 1st Q     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 3. Return session + question
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FeedbackView   â”‚
â”‚  Show question  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 4. User answers (voice/click)
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VoicePanel     â”‚  or  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Recognize      â”‚      â”‚QuestionPanel â”‚
â”‚  speech         â”‚      â”‚Click option  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                          â”‚
     â”‚ 5. Submit answer         â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ 6. POST /api/feedback/answer
                â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Backend API    â”‚
      â”‚  Save answer    â”‚
      â”‚  Get next Q     â”‚
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 7. Return next question
           â”‚    (or null if done)
           â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  FeedbackView   â”‚
      â”‚  Next question  â”‚
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 8. Repeat 4-7 until done
           â”‚
           â”‚ 9. All questions answered
           â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ CompletionView  â”‚
      â”‚  Show report    â”‚
      â”‚  Confetti! ğŸ‰  â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Hierarchy

```
App.vue
â”‚
â”œâ”€â”€ HomeView.vue
â”‚   â””â”€â”€ [Form inputs, Start button]
â”‚
â”œâ”€â”€ FeedbackView.vue
â”‚   â”œâ”€â”€ Progress Bar
â”‚   â”œâ”€â”€ QuestionPanel.vue
â”‚   â”‚   â”œâ”€â”€ Question Text
â”‚   â”‚   â”œâ”€â”€ Category Badge
â”‚   â”‚   â”œâ”€â”€ Option Cards (single/multiple choice)
â”‚   â”‚   â”œâ”€â”€ Rating Buttons (1-10)
â”‚   â”‚   â””â”€â”€ Text Input (open-ended)
â”‚   â”‚
â”‚   â””â”€â”€ VoicePanel.vue
â”‚       â”œâ”€â”€ Microphone Button
â”‚       â”œâ”€â”€ Wave Animations
â”‚       â”œâ”€â”€ Transcript Display
â”‚       â”œâ”€â”€ Submit/Reset Buttons
â”‚       â””â”€â”€ Keyboard Shortcuts
â”‚
â””â”€â”€ CompletionView.vue
    â”œâ”€â”€ Success Animation
    â”œâ”€â”€ Session Summary
    â”œâ”€â”€ Report Details
    â””â”€â”€ Action Buttons
```

## State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Pinia Store (feedback.js)        â”‚
â”‚                                          â”‚
â”‚  State:                                  â”‚
â”‚  â”œâ”€â”€ session (current session object)   â”‚
â”‚  â”œâ”€â”€ currentQuestion (Question obj)     â”‚
â”‚  â”œâ”€â”€ answers (array of answers)         â”‚
â”‚  â”œâ”€â”€ isLoading (boolean)                â”‚
â”‚  â””â”€â”€ error (string or null)             â”‚
â”‚                                          â”‚
â”‚  Computed:                               â”‚
â”‚  â””â”€â”€ progress (percentage)               â”‚
â”‚                                          â”‚
â”‚  Actions:                                â”‚
â”‚  â”œâ”€â”€ startSession(name, sample)         â”‚
â”‚  â”œâ”€â”€ submitAnswer(qId, text, type)      â”‚
â”‚  â”œâ”€â”€ completeSession(notes)             â”‚
â”‚  â”œâ”€â”€ getReport(sessionId)               â”‚
â”‚  â””â”€â”€ resetSession()                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Question Flow Logic

```
welcome
   â”‚
   â–¼
taster_name
   â”‚
   â–¼
coffee_sample
   â”‚
   â–¼
flavor_main â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚             â”‚                  â”‚              â”‚
   â”œâ”€ Fruity â”€â”€â–¶ flavor_fruity     â”‚              â”‚
   â”œâ”€ Floral â”€â”€â–¶ flavor_floral     â”‚              â”‚
   â”œâ”€ Nutty â”€â”€â”€â–¶ flavor_nutty      â”‚              â”‚
   â”œâ”€ Cocoa â”€â”€â”€â–¶ flavor_cocoa      â”‚              â”‚
   â””â”€ etc...                        â”‚              â”‚
                                    â”‚              â”‚
   All specific flavors â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
              intensity
                   â”‚
                   â–¼
              aftertaste
                   â”‚
                   â–¼
                 body
                   â”‚
                   â–¼
               acidity
                   â”‚
                   â–¼
               balance
                   â”‚
                   â–¼
          overall_impression
                   â”‚
                   â–¼
          additional_notes
                   â”‚
                   â–¼
                  END
```

## API Request/Response Examples

### Start Session
```
POST /api/sessions/start
Request:
{
  "tester_name": "John Doe",
  "coffee_sample": "Ethiopia Yirgacheffe"
}

Response:
{
  "id": 1,
  "status": "active",
  "start_time": "2024-01-15T10:30:00",
  "tester_name": "John Doe",
  "coffee_sample": "Ethiopia Yirgacheffe",
  "current_question": {
    "id": "welcome",
    "text": "Welcome to ABCD Coffee Testing!",
    "type": "intro",
    "options": null,
    "category": null,
    "order_index": 0
  }
}
```

### Submit Answer
```
POST /api/feedback/answer
Request:
{
  "session_id": 1,
  "question_id": "flavor_main",
  "answer_text": "Fruity",
  "answer_type": "voice",
  "confidence_score": 0.95
}

Response:
{
  "id": 5,
  "session_id": 1,
  "question_id": "flavor_main",
  "answer_text": "Fruity",
  "timestamp": "2024-01-15T10:32:15",
  "next_question": {
    "id": "flavor_fruity",
    "text": "Which specific Fruity notes do you detect?",
    "type": "multiple_choice",
    "options": ["Citrus", "Berry", "Dried Fruit", ...],
    "category": "Fruity",
    "order_index": 4
  }
}
```

This architecture provides:
- âœ… Clean separation of concerns
- âœ… Scalable design
- âœ… Easy to maintain
- âœ… Well-documented
- âœ… Production-ready
